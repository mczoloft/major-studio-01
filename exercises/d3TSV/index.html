<!DOCTYPE html>
<html>
    <head>
        <script src="https://d3js.org/d3.v4.min.js"></script>
    </head>
    <style type="text/css">
        body {
            font-family: sans-serif;
        }
    </style>

    <body>
        <script>
            d3.select('body')
                .append('svg')
                .attr('width', window.innerWidth)
                .attr('height', window.innerHeight);
            
            var svg = d3.select('svg');
            
            d3.tsv('groceries.tsv', function(error, data) {
                
                console.log(data);
                
                data.forEach(function(d, i) {
                    svg.append('text')
                        .text(i + ') ' + d.amount + ' | ' + d.unit + ' | ' + d.item + ' | ' + d.source)
                        .attr('x', window.innerWidth/3)
                        .attr('y', (i+1) * 30)
                        .style('text-anchor', 'middle')
                        .style('fill', function() {
                            if (d.source == 'store')
                                return 'rgb(0, 255, 0)';
                            else
                                return 'darkgray';
                            });
                });
                
                svg.selectAll()
                    .data(data) // https://bost.ocks.org/mike/join/
                    .enter()
                    .append('text')
                    .text(function(d, i) { return i + ') ' + d.amount + ' | ' + d.unit + ' | ' + d.item + ' | ' + d.source; })
                    .attr('x', window.innerWidth*2/3)
                    .attr('y', function(d, i) { return (i+1) * 30; })
                    .style('text-anchor', 'middle')
                    .style('fill', function(d) {
                            if (d.source == 'store')
                                return 'rgb(0, 255, 0)';
                            else
                                return 'darkgray';
                            });
                    
     
            });
            

        </script>
    </body>
</html>